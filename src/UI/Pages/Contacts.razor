@page "/contacts"
@inject IToastService ToastService

<PageTitle>Contacts</PageTitle>

<div class="page-container">
    <section class="header-section">
        <h2>Contacts</h2>
        <div class="description">
            Contact us for more information, collaboration, or support. We are always happy to help!
        </div>
    </section>

    <section class="content-section">
        <div class="form-container">
            <div class="form-card">
                <h3>Write to Us</h3>
                <EditForm Model="FormModel">
                    <div class="form-fields">
                        <div class="form-group">
                            <label for="name">Name</label>
                            <input id="name" class="form-control" type="text" placeholder="Your name"
                                   @bind="FormModel.Name"/>
                        </div>
                        <div class="form-group">
                            <label for="email">Email</label>
                            <input id="email" class="form-control" type="email" placeholder="Your email"
                                   @bind="FormModel.Email"/>
                        </div>
                        <div class="form-group">
                            <label for="message">Message</label>
                            <textarea id="message" class="form-control" rows="4" placeholder="Your message"
                                      @bind="FormModel.Message"></textarea>
                        </div>
                    </div>
                    <div class="form-actions">
                        <button type="submit" class="form-control">Send</button>
                    </div>
                </EditForm>
            </div>
        </div>
        <div class="contacts-section">
            <div class="contacts-card">
                <h3>Our Contacts</h3>
                <div class="contact-item">
                    <span class="contact-label">Email:</span>
                    <a href="mailto:info@example.com" @onclick="() => CopyToClipboard(Email)">@Email</a>
                </div>
                <div class="contact-item">
                    <span class="contact-label">Phone:</span>
                    <a href="tel:+380123456789" @onclick="() => CopyToClipboard(Phone)">@Phone</a>
                </div>
                <div class="contact-item">
                    <span class="contact-label">Address:</span>
                    <span @onclick="() => CopyToClipboard(Address)" style="cursor:pointer;">@Address</span>
                </div>
            </div>
        </div>
    </section>
</div>

@code {
    private const string Email = "info@example.com";
    private const string Phone = "+38 (012) 345-67-89";
    private const string Address = "Kyiv, Example St, 1";

    private ContactFormModel FormModel { get; } = new ContactFormModel();


    public class ContactFormModel
    {
        public string Name { get; set; } = string.Empty;
        public string Email { get; set; } = string.Empty;
        public string Message { get; set; } = string.Empty;
    }

    private async Task CopyToClipboard(string text)
    {
        await JS.InvokeVoidAsync("navigator.clipboard.writeText", text);
        ToastService.ShowSuccess($"Copied: {text}");
    }

    [Inject]
    private IJSRuntime JS { get; set; } = null!;

}