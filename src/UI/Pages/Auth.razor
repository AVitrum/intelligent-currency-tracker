@page "/auth"
@using UI.Configurations
@using UI.Components.Auth
@inject HttpClient Http
@inject NavigationManager Navigation
@inject IToastService ToastService
@inject IUISettings UISettings

<AuthLayout 
    ImageSource="@(IsLogin ? "images/auth.png" : "images/login.png")"
    ImageAlt="Authentication Image"
    ErrorMessage="@_errorMessage"
    IsLogin="@IsLogin">
    
    <CascadingValue Value="@IsLogin" Name="IsLogin">
        @if (IsLogin)
        {
            <LoginForm 
                LoginRequest="_loginRequest"
                OnValidSubmit="HandleLoginValidSubmit"
                OnToggleMode="ToggleLoginMode" />
        }
        else
        {
            <RegistrationForm 
                RegistrationRequest="_registrationRequest"
                OnValidSubmit="HandleRegistrationValidSubmit"
                OnToggleMode="ToggleLoginMode" />
        }
    </CascadingValue>
</AuthLayout>